{"version":3,"sources":["app/components/layout.js","app/components/loader.js","app/components/toolbar.js","app/editor/component.js","app/editor/model.js","app/index.js","app/initialize.js","app/models.js","app/presentations/Presentation/component.js","app/presentations/component.js","app/presentations/model.js","app/presentations/presentationModal.js","app/slides/Preview/component.js","app/slides/Slide/component.js","app/slides/component.js","app/slides/model.js","app/slides/slidesModal.js","app/slideshow/component.js","app/utils/.secret.js","app/utils/Tasks.js","app/utils/animations.js","app/utils/index.js","app/utils/requests.js"],"names":["Layout","view","children","mdl","attrs","m","Toolbar","Loader","AuthModal","state","code","verifyCode","e","preventDefault","isLoggedIn","toggleAuthModal","sessionStorage","setItem","oninit","Email","send","then","x","console","log","onclick","autofocus","type","onchange","target","value","login","removeItem","toggleModal","toPresentations","route","Link","selector","class","href","toSlides","CurrentPresentation","id","toSlideShow","slideShow","printToPDF","caputerScreen","navView","page","get","actionView","Button","action","label","Editor","presentationId","slide","title","content","_","set","onError","error","onSuccess","getSlide","param","fork","updateInput","input","save","oncreate","placeholder","oninput","trust","markup","render","loadSlide","q","JSON","stringify","map","editSlide","root","document","body","getItem","Models","makeRoutes","Presentations","Slides","onmatch","length","SlideShow","addEventListener","require","hljs","registerLanguage","javascript","MarkdownIt","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","highlight","str","lang","use","highlightjs","emoji","sub","sup","ins","footnote","deflist","abbr","arrows","SlideModel","contents","order","presentation_id","SlideShowStruct","keys","Set","values","items","Stream","getProfile","w","window","open","c","cloneNode","appendChild","getElementById","print","close","profile","innerWidth","Presentation","task","models","deleted","authDeleteTask","confirm","Task","of","rejected","removePresTask","pId","chain","deletePresentationsTask","RemoveLine","style","width","stopPropagation","dto","findPresentations","errors","PresentationModal","presentations","presentationModel","PresentationModel","dom","onBeforeRemove","vnode","done","animation","key","toViewModel","data","getPresentations","savePresentationTask","p","push","SlidePosition","update","updateSlidesPosition","dir","slides","prevSlide","filter","nextSlide","disabled","Preview","getSlides","s","updateAndSaveSlideTask","removeSlideTask","tail","reduceOrder","right","removeSlide","updateList","handleDragStart","ev","opacity","dataTransfer","effectAllowed","setData","previewDrag","drag","handleDragOver","drop","handleDragLeave","handleDrop","handleDragEnd","slideDrag","dragging","start","end","dragged","dropped","draggable","ondragstart","ondragend","ondragover","ondrop","ondragleave","position","top","EditLine","Slide","addSlideToShow","dragId","droppable","_slide","left","presentation","handleDragEnter","bColor","getData","item","dropEffect","SlidesModal","ondragenter","model","toStruct","acc","has","size","add","Object","orderOf","forGreater","checkSlide","forLess","getId","resetOrder","updateRemoveSlide","Array","updateId","updateSlideDragStart","updateDrag","updateOrder","updateSlideDragEnd","updateDrop","updateStateDragEnd","loadSlides","saveSlideTask","deleteSlideTask","updateSlideTask","qlSlides","ENDING","undefined","cursor","calcStatePosition","updateStatePosition","scrollTo","behaviour","changeSlide","scrollBy","tabindex","onkeyup","onmouseenter","onmouseleave","onbeforeupdate","includes","onupdate","onlineUrl","authSettings","domain","clientID","redirect_uri","location","origin","responseType","getRandomInt","n","Math","floor","random","join","emailMe","SecureToken","To","From","Subject","Body","postQl","query","rej","res","request","method","url","withCredentials","postTask","putTask","getTask","deleteTask","animateSlideEntrance","animate","transform","duration","animateEntranceRight","scale","animateChildEntrance","child","index","setTimeout","animateExit","anim","waapi","Promise","resolve","onfinish","animateFadeIn","transition","animateFadeOut","animeEntrance","el","easing","translateX","offset","bounceEntrance","keyframes","makeQuery","string","parse","repeat","f","wait","v","viewModelMap","signature","_map","prop","findPresentationsTask","httpTasks","getQlTask","findSlidesTask","loadSlideTask"],"mappings":"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","file":"docs/app.js","sourcesContent":["import Toolbar from './toolbar.js'\r\n\r\nexport const Layout = {\r\n  view: ({ children, attrs: {mdl} }) => m('.container',m(Toolbar, {mdl}), children),\r\n}\r\n\r\n","export const Loader = () =>\r\n  m(\".lds-roller\", [\r\n    m(\".\"),\r\n    m(\".\"),\r\n    m(\".\"),\r\n    m(\".\"),\r\n    m(\".\"),\r\n    m(\".\"),\r\n    m(\".\"),\r\n    m(\".\")\r\n  ])\r\n","import { isEmpty, split, view, lensProp  } from \"ramda\"\r\nimport {  emailMe } from \"../utils/.secret.js\"\r\n\r\n\r\nconst AuthModal = ({ attrs:{mdl} }) => {\r\nconst state = {code:''}\r\n\r\n  const verifyCode = (e) => {\r\n    e.preventDefault()\r\n    if (state.code === mdl.code) {\r\n      mdl.isLoggedIn = true\r\n      mdl.toggleAuthModal = !mdl.toggleAuthModal\r\n      sessionStorage.setItem('code', true)\r\n    }\r\n  }\r\n\r\n  return {\r\n    oninit:() => {\r\n      Email.send(emailMe(mdl.code)).then(x => console.log('email sent: ',x))//add errror handler\r\n\r\n    },\r\n    view: () =>\r\n      m(\"article.modal-container\", [\r\n        m(\".card\", [\r\n          m(\".card-header\", [\r\n            m(\"h2.modal-label\", \"Verify Code\"),\r\n            m(\"button.card-delete\", {\r\n              onclick: () => mdl.toggleAuthModal = !mdl.toggleAuthModal,\r\n              \"aria-label\": \"close\"\r\n            })\r\n          ]),\r\n          m(\".card-body\", [\r\n            m(\r\n              \".modal-content\",\r\n              m(\"input.modal-input\", {\r\n                autofocus: true,\r\n                type: \"text\",\r\n                onchange: (e) => (state.code = e.target.value)\r\n              })\r\n            )\r\n          ]),\r\n          m(\r\n            \".card-footer\",\r\n            m(\"button.card-btn\", { onclick: verifyCode }, \"Login\")\r\n          )\r\n        ])\r\n      ])\r\n  }\r\n}\r\n\r\n\r\n\r\nconst login = mdl =>\r\n mdl.isLoggedIn ?m(\r\n  \"a.btn.btn-link\",\r\n  {\r\n    onclick: () => {\r\n       mdl.isLoggedIn = false\r\n       sessionStorage.removeItem('code')\r\n    }\r\n  },\r\n  \"Logout\"\r\n) : m(\r\n    \"a.btn.btn-link\",\r\n    {\r\n      onclick: () => {\r\n         mdl.toggleAuthModal = !mdl.toggleAuthModal\r\n      }\r\n    },\r\n    \"Login\"\r\n  )\r\n\r\n\r\n\r\nconst toggleModal = (mdl) =>\r\n   mdl.isLoggedIn && m(\r\n      \"a.btn.btn-link\",\r\n      {\r\n        onclick: () => (mdl.toggleModal = !mdl.toggleModal)\r\n      },\r\n      \"Add New\"\r\n    )\r\n\r\nconst toPresentations = [\r\n  m(\r\n    m.route.Link,\r\n    {selector:'a',class:'btn btn-link',\r\n      href: \"/presentations\"\r\n    },\r\n    \"Presentations\"\r\n  )\r\n]\r\n\r\nconst toSlides = (mdl) => [\r\n  m(\r\n    m.route.Link,\r\n    {selector:'a',class:'btn btn-link',\r\n      href: `/presentation/${mdl.CurrentPresentation.id}/slides`\r\n    },\r\n    \"slides\"\r\n  )\r\n]\r\n\r\nconst toSlideShow = (mdl) =>   mdl.CurrentPresentation &&\r\n    !isEmpty(mdl.CurrentPresentation.slideShow())\r\n    && m(\r\n        m.route.Link,\r\n        {selector:'a',class:'btn btn-link',\r\n          href: `/slideshow/${mdl.CurrentPresentation.id}`\r\n        },\r\n        \"Slide Show\"\r\n      )\r\n\r\nconst printToPDF = mdl =>\r\n  m(\r\n   m.route.Link,\r\n    {selector:'a',class:'btn btn-link',\r\n      onclick: e => mdl.caputerScreen()\r\n    },\r\n    \"Print Slide\"\r\n  )\r\n\r\nconst navView = (mdl) => {\r\n  let page = view(lensProp(1), split(\"/\", m.route.get()))\r\n  switch (page) {\r\n    case \"presentation\":\r\n      return [toPresentations, toSlideShow(mdl)]\r\n      break\r\n\r\n    case \"slideshow\":\r\n      return [toPresentations, toSlides(mdl)]\r\n      break\r\n\r\n    case \"slides\":\r\n      return [toPresentations, toSlideShow(mdl)]\r\n      break\r\n\r\n    case \"edit\":\r\n      return [toPresentations, toSlides(mdl), toSlideShow(mdl)]\r\n      break\r\n    default:\r\n  }\r\n}\r\n\r\nconst actionView = (mdl) => {\r\n  let page = view(lensProp(1), split(\"/\", m.route.get()))\r\n  switch (page) {\r\n    case \"presentations\":\r\n      return [login(mdl), toggleModal(mdl)]\r\n      break\r\n    case \"presentation\":\r\n      return [login(mdl),  toggleModal(mdl)]\r\n      break\r\n    case \"slideshow\":\r\n      return [login(mdl),  printToPDF(mdl)]\r\n      break\r\n    default:\r\n  }\r\n}\r\n\r\nconst Toolbar = ({ attrs: { mdl } }) => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\".navbar\",\r\n        m(\".navbar-section\", navView(mdl)),\r\n        m(\".navbar-section\", actionView(mdl)),\r\n        mdl.toggleAuthModal && m(AuthModal, {mdl})\r\n      )\r\n  }\r\n}\r\n\r\nexport default Toolbar\r\n","import { loadSlide, editSlide } from \"./model.js\"\r\nimport Loader from \"components\"\r\n\r\nconst Button = {\r\n  view: ({ attrs: { action, label } }) =>\r\n    m(\r\n      \"button.card-btn\",\r\n      {\r\n        onclick: action\r\n      },\r\n      label\r\n    )\r\n}\r\n\r\nconst Editor = ({ attrs: { mdl } }) => {\r\n  let state = {\r\n    presentationId: \"\",\r\n    slide: { title: \"\", content: \"\", id: \"\" }\r\n  }\r\n\r\n  const toSlides = (_) =>\r\n    m.route.set(`/presentation/${state.presentationId}/slides`)\r\n\r\n  const onError = (error) => log(\"error\")(error)\r\n\r\n  const onSuccess = (slide) => {\r\n    state.slide = slide\r\n  }\r\n\r\n  const getSlide = () => {\r\n    state.slide.id = m.route.param(\"id\")\r\n    state.presentationId = m.route.param(\"pid\")\r\n    return loadSlide(state.slide.id).fork(onError, onSuccess)\r\n  }\r\n\r\n  const updateInput = (input) => (e) => (state.slide[input] = e.target.value)\r\n\r\n  const save = (e) => {\r\n    e.preventDefault()\r\n\r\n    editSlide(state.slide).fork(onError, () => toSlides())\r\n  }\r\n\r\n  return {\r\n    oncreate: getSlide(),\r\n    view: () => {\r\n      return m(\".container.editor\", [\r\n        m(\r\n          \".editor-left\",\r\n          m(\".card.follow\", [\r\n            m(\".card-header\", [\r\n              m(\".card-footer\", [\r\n                m(Button, { action: save, label: \"Save\" }),\r\n                m(Button, { action: toSlides, label: \"Cancel\" })\r\n              ]),\r\n              m(\"input.editor-input\", {\r\n                type: \"text\",\r\n                placeholder: \"Slide Title\",\r\n                oninput: updateInput(\"title\"),\r\n                value: state.slide.title\r\n              })\r\n            ]),\r\n            m(\"textarea.editor-text\", {\r\n              oninput: updateInput(\"content\"),\r\n              value: state.slide.content\r\n            }),\r\n          ])\r\n        ),\r\n        m(\r\n          \".editor-right\",\r\n          m.trust(mdl.markup.render(state.slide.content || \"\"))\r\n        )\r\n      ])\r\n    }\r\n  }\r\n}\r\n\r\nexport default Editor\r\n","import { getQlTask } from \"utils\"\r\nimport { path } from \"ramda\"\r\n\r\nexport const loadSlide = id => {\r\n  let q = `{ slide(where:{id:${JSON.stringify(id)}}){\r\n              id content title\r\n            }\r\n          }`\r\n  return getQlTask(q).map(path([\"data\", \"slide\"]))\r\n}\r\n\r\nexport const editSlide = ({ id, title, content }) => {\r\n  let q = `mutation {\r\n            updateSlide(\r\n              data: {\r\n                title: ${JSON.stringify(title)}\r\n                content: ${JSON.stringify(content)}\r\n              }\r\n              where: {\r\n                id: ${JSON.stringify(id)}\r\n              }) {\r\n                id\r\n                title\r\n              }\r\n        }`\r\n\r\n  return getQlTask(q).map(path([\"data\", \"updatePresentation\", \"Slides\"]))\r\n}\r\n","const root = document.body\r\nimport {Layout} from \"./components/layout.js\"\r\n\r\nimport Presentations from \"./presentations/component.js\"\r\nimport Slides from \"./slides/component.js\"\r\nimport Editor from \"./editor/component.js\"\r\nimport SlideShow from \"./slideshow/component.js\"\r\nimport Models from \"./models.js\"\r\n\r\n\r\nif(sessionStorage.getItem('code') ) {\r\n  Models.isLoggedIn = true\r\n}\r\n\r\n\r\nconst makeRoutes = (mdl) => {\r\n  return {\r\n    \"/presentations\": {\r\n      render: () => m(Layout, {mdl}, m(Presentations, {mdl}))\r\n    },\r\n    \"/presentation/:id/slides\": {\r\n      render: () => m(Layout, {mdl}, m(Slides, {mdl}))\r\n    },\r\n    \"/edit/:pid/slide/:id\": {\r\n      onmatch:() => mdl.isLoggedIn || m.route.set(m.route.get()),\r\n      render: () => m(Layout, {mdl}, m(Editor, {mdl}))\r\n    },\r\n    \"/slideshow/:id\": {\r\n      onmatch: ({ id }) =>\r\n        mdl.CurrentPresentation.Slides.length == 0 &&\r\n        m.route.set(`/presentation/${id}/slides`),\r\n      render: () => m(Layout, {mdl}, m(SlideShow, {mdl}))\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nm.route(root, \"/presentations\", makeRoutes(Models))\r\n","document.addEventListener(\"DOMContentLoaded\", () => require(\"./index.js\"))\r\n","import MarkdownIt from \"markdown-it\"\r\nimport highlightjs from \"markdown-it-highlightjs\"\r\nimport emoji from \"markdown-it-emoji\"\r\nimport sub from \"markdown-it-sub\"\r\nimport sup from \"markdown-it-sup\"\r\nimport ins from \"markdown-it-ins\"\r\nimport footnote from \"markdown-it-footnote\"\r\nimport deflist from \"markdown-it-deflist\"\r\nimport abbr from \"markdown-it-abbr\"\r\n// import imsize from \"markdown-it-imsize\"\r\nimport arrows from \"markdown-it-smartarrows\"\r\nimport hljs from \"highlight.js\"\r\nimport javascript from 'highlight.js/lib/languages/javascript'\r\n// import printJS from \"print-js\"\r\nhljs.registerLanguage('javascript', javascript);\r\nimport { code } from \"utils\"\r\n\r\nconst markup = new MarkdownIt({\r\n  html: true, // Enable HTML tags in source\r\n  xhtmlOut: true, // Use '/' to close single tags (<br />).\r\n  // This is only for full CommonMark compatibility.\r\n  breaks: true, // Convert '\\n' in paragraphs into <br>\r\n  langPrefix: \"\", // CSS language prefix for fenced blocks. Can be\r\n  // useful for external highlighters.\r\n  linkify: true, // Autoconvert URL-like text to links\r\n\r\n  // Enable some language-neutral replacement + quotes beautification\r\n  typographer: true,\r\n\r\n  // Double + single quotes replacement pairs, when typographer enabled,\r\n  // and smartquotes on. Could be either a String or an Array.\r\n  //\r\n  // For example, you can use '' for Russian, '' for German,\r\n  // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\r\n  quotes: \"\",\r\n\r\n  // Highlighter function. Should return escaped HTML,\r\n  // or '' if the source string is not changed and should be escaped externally.\r\n  // If result starts with <pre... internal wrapper is skipped.\r\n  highlight: (str, lang) => str\r\n})\r\n  .use(highlightjs, {hljs})\r\n  .use(emoji)\r\n  .use(sub)\r\n  .use(sup)\r\n  .use(ins)\r\n  .use(footnote)\r\n  .use(deflist)\r\n  .use(abbr)\r\n  // .use(imsize, { autofill: true })\r\n  .use(arrows)\r\n\r\nconst SlideModel = {\r\n  title: \"\",\r\n  contents: \"\",\r\n  order: 0,\r\n  presentation_id: \"\"\r\n}\r\n\r\nconst Slides = []\r\n\r\nconst Presentations = []\r\n\r\nconst SlideShowStruct = {\r\n  keys: new Set(),\r\n  values: {},\r\n  items: Stream([])\r\n}\r\n\r\nconst CurrentPresentation = {\r\n  title: \"\",\r\n  id: \"\",\r\n  slideShow: Stream([]),\r\n  Slides\r\n}\r\n\r\nconst getProfile = (w) => {\r\n  if (w < 668) return \"phone\"\r\n  if (w < 920) return \"tablet\"\r\n  return \"desktop\"\r\n}\r\n\r\nconst caputerScreen = () => {\r\n  let w=window.open();\r\n  let c = document.cloneNode(document)\r\n  console.log(c)\r\n  w.document.body.appendChild(c.getElementById('slidecard'))\r\n  w.print();\r\n  w.close();\r\n}\r\n\r\nconst Models = {\r\n  caputerScreen,\r\n  markup,\r\n  profile: getProfile(window.innerWidth),\r\n  SlideShowStruct,\r\n  Presentations,\r\n  CurrentPresentation,\r\n  SlideModel,\r\n  toggleModal: false,\r\n  toggleAuthModal: false,\r\n  code:code(),\r\n  isLoggedIn:false\r\n}\r\n\r\n\r\nexport default Models\r\n","import { log } from \"utils\"\r\nimport { without } from \"ramda\"\r\nimport { deletePresentationsTask } from \"../model.js\"\r\nimport Task from \"data.task\"\r\nimport {RemoveLine} from '@mithril-icons/clarity/cjs/index'\r\n\r\nconst Presentation = ({ attrs: { mdl } }) => {\r\n  const onError = (task) => (error) => log(`error with ${task}: `)(error)\r\n  const onSuccess = (models) => (deleted) => {\r\n    return (models.Presentations = without([deleted], models.Presentations))\r\n  }\r\n\r\n  const authDeleteTask = (id) =>\r\n    window.confirm(\"Are you sure you want to delete?\")\r\n      ? Task.of(id)\r\n      : Task.rejected(\"user denied req\")\r\n\r\n  const removePresTask = (pId) =>\r\n    authDeleteTask(pId)\r\n      .chain(deletePresentationsTask)\r\n      .fork(onError(\"deleting\"), onSuccess(mdl))\r\n\r\n  return {\r\n    view: ({ attrs: { title, id, mdl } }) =>\r\n    m('.card.column.col-3',\r\n    m(\r\n        \".tile\",\r\n        m(\r\n          \".tile-content\",\r\n          {\r\n            onclick: () => m.route.set(`/presentation/${id}/slides`)\r\n          },\r\n            title,\r\n        ),\r\n        m('.tile-action',\r\n        m(RemoveLine,{\r\n          style:{\r\n            width:'0.8rem',\r\n            'margin-right': '30px'\r\n          },\r\n        onclick: (e) => {\r\n          e.stopPropagation()\r\n          removePresTask(id)\r\n        }\r\n      })\r\n      ))\r\n      )\r\n  }\r\n}\r\n\r\nexport default Presentation\r\n","import { clone } from 'ramda'\r\nimport {  animateFadeIn,} from 'utils'\r\nimport PresentationModal from './presentationModal.js'\r\nimport Presentation from './Presentation/component.js'\r\nimport { getPresentations } from \"./model.js\"\r\n\r\n  const onError = (error) => {\r\n    log(\"error\")(error)\r\n    state.error = error\r\n  }\r\n\r\n\r\n  const onSuccess = (mdl) => (dto) =>\r\n    mdl.Presentations = dto\r\n\r\n  const findPresentations = ({ attrs: { mdl } }) =>\r\n    getPresentations().fork(onError, onSuccess(mdl))\r\n\r\n\r\nconst Presentations = () => {\r\n  const state = {\r\n    errors: [],\r\n    title: '',\r\n  }\r\n\r\n  return {\r\n\r\n      oninit: findPresentations,\r\n\r\n    view: ({ attrs: { mdl } }) => [\r\n      mdl.toggleModal\r\n        ? m(PresentationModal, {\r\n            mdl,\r\n            state,\r\n            toggleModal: () => (mdl.toggleModal = !mdl.toggleModal),\r\n            presentations: mdl.Presentations,\r\n            presentationModel: clone(mdl.PresentationModel),\r\n          })\r\n        : '',\r\n\r\n      m(\r\n        '.container.columns',\r\n        {\r\n          oncreate: ({ dom }) => animateFadeIn({ dom }),\r\n          onBeforeRemove: (vnode, done) => {\r\n            vnode.dom.addEventListener('animationend', done)\r\n            vnode.dom.style.animation = 'fadeOut 1s'\r\n          },\r\n        },\r\n        [\r\n          mdl.Presentations &&\r\n            mdl.Presentations.map(({ title, id }) =>\r\n              m(Presentation, {\r\n                key: id,\r\n                id,\r\n                title,\r\n                mdl,\r\n              })\r\n            ),\r\n        ]\r\n      ),\r\n    ],\r\n  }\r\n}\r\n\r\nexport default Presentations\r\n","import { getQlTask } from \"utils\"\r\nimport { path } from \"ramda\"\r\n\r\nconst toViewModel = ({ data, errors }) => {\r\n  console.log(\"errors\", errors)\r\n  return { data, errors }\r\n}\r\n\r\nexport const getPresentations = () =>\r\n  getQlTask(`query {\r\n  presentations{ id, title}\r\n}`).map(path([\"data\", \"presentations\"]))\r\n\r\nexport const savePresentationTask = (state) => {\r\n  const q = `mutation {\r\n    createPresentation(data: {title: ${JSON.stringify(state.title)}})\r\n    { title id}\r\n  }`\r\n  return getQlTask(q).map(path([\"data\", \"createPresentation\"]))\r\n}\r\n\r\nexport const deletePresentationsTask = (id) => {\r\n  const q = `mutation {\r\n    deletePresentation(where: {id: ${JSON.stringify(id)}})\r\n    { title id}\r\n  }`\r\n  return getQlTask(q).map(path([\"data\", \"deletePresentation\"]))\r\n}\r\n","import { savePresentationTask } from \"./model.js\"\r\nimport { log } from \"utils\"\r\n\r\nconst PresentationModal = ({ attrs }) => {\r\n  const onError = (errors) => {\r\n    log(\"error\")(errors)\r\n    attrs.state.errors = errors\r\n    attrs.toggleModal()\r\n  }\r\n  const onSuccess = (p) => {\r\n    attrs.state.title = \"\"\r\n    attrs.state.errors = []\r\n    attrs.presentations.push(p)\r\n    attrs.toggleModal()\r\n  }\r\n\r\n  const save = (e) => {\r\n    e.preventDefault()\r\n    savePresentationTask(attrs.state).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    view: () =>\r\n      m(\"article.modal-container\", [\r\n        m(\".card\", [\r\n          m(\".card-header\", [\r\n            m(\"h2.modal-label\", \"Presentation Name\"),\r\n            m(\"button.card-delete\", {\r\n              onclick: () => {\r\n                return attrs.toggleModal()\r\n              },\r\n              \"aria-label\": \"close\"\r\n            })\r\n          ]),\r\n          m(\".card-body\", [\r\n            m(\r\n              \".modal-content\",\r\n              m(\"input.modal-input\", {\r\n                autofocus: true,\r\n                type: \"text\",\r\n                onchange: (e) => (attrs.state.title = e.target.value)\r\n              })\r\n            )\r\n          ]),\r\n          m(\r\n            \".card-footer\",\r\n            m(\"button.card-btn\", { onclick: save }, \"create presentation\")\r\n          )\r\n        ])\r\n      ])\r\n  }\r\n}\r\n\r\nexport default PresentationModal\r\n","import { concat, eqProps, compose, filter, map, propEq, head } from \"ramda\"\r\nimport { log , animateFadeIn} from \"utils\"\r\nimport {\r\n  forGreater,\r\n  reduceOrder,\r\n  updateRemoveSlide,\r\n  updateSlideTask\r\n} from \"../model.js\"\r\nimport {RemoveLine,EditLine} from '@mithril-icons/clarity/cjs'\r\n\r\nconst SlidePosition = ({ attrs: { update } }) => {\r\n  const updateSlidesPosition = (dir, slides, slide) => {\r\n    switch (dir) {\r\n      case \"left\":\r\n        let prevSlide = slides.filter((x) => x.order == slide.order - 1)[0]\r\n        prevSlide.order++\r\n        slide.order--\r\n        update([prevSlide, slide])\r\n        break\r\n      case \"right\":\r\n        let nextSlide = slides.filter((x) => x.order == slide.order + 1)[0]\r\n        slide.order++\r\n        nextSlide.order--\r\n        update([nextSlide, slide])\r\n        break\r\n    }\r\n  }\r\n\r\n  return {\r\n    view: ({ attrs: { slides, slide, dir } }) =>\r\n      m(`button.s-circle`, {\r\n        disabled:\r\n          (dir == \"right\" && slide.order == slides.length) ||\r\n          (dir == \"left\" && slide.order == 1),\r\n        onclick: () => updateSlidesPosition(dir, slides, slide)\r\n      }, m(`i.icon icon-arrow-${dir}`))\r\n  }\r\n}\r\n\r\nconst Preview = ({ attrs: { getSlides, mdl, s, key, state } }) => {\r\n  const onError = (task) => (error) => log(`error with ${task}`)(error)\r\n\r\n  const onSuccess = (_) =>\r\n    getSlides({ attrs: { mdl } })\r\n\r\n\r\n  const updateAndSaveSlideTask = (slides) => {\r\n    return updateSlideTask(mdl.CurrentPresentation.id)(slides).fork(\r\n      onError(\"updating\"),\r\n      onSuccess\r\n    )\r\n  }\r\n\r\n  const removeSlideTask = (s) => {\r\n    let tail = compose(\r\n      map(reduceOrder),\r\n      filter(forGreater(s))\r\n    )(state.right())\r\n    let removeSlide = updateRemoveSlide(s)\r\n\r\n    let updateList = concat(removeSlide, tail)\r\n\r\n    updateAndSaveSlideTask(updateList)\r\n  }\r\n\r\n  const handleDragStart = (ev) => {\r\n    ev.target.style.opacity = \"0.4\"\r\n    ev.dataTransfer.effectAllowed = \"move\"\r\n    ev.dataTransfer.setData(\"text/plain\", \"preview\")\r\n    state.previewDrag.drag = head(filter(propEq(\"id\", s.id), state.right()))\r\n  }\r\n\r\n  const handleDragOver = (ev) => {\r\n    ev.preventDefault()\r\n\r\n    if (state.previewDrag.drag) state.previewDrag.drop = s\r\n  }\r\n\r\n  const handleDragLeave = (ev) => {\r\n    ev.preventDefault()\r\n    state.previewDrag.drop = null\r\n  }\r\n\r\n  const handleDrop = (ev) => ev.preventDefault()\r\n\r\n  const handleDragEnd = (ev) => {\r\n    ev.target.style.opacity = \"1\"\r\n    state.slideDrag.dragging = false\r\n    if (state.previewDrag.drop) {\r\n      let start = state.previewDrag.drag.order\r\n      let end = state.previewDrag.drop.order\r\n\r\n      let dragged = state.previewDrag.drag\r\n      let dropped = state.previewDrag.drop\r\n\r\n      state.previewDrag.drag = mdl.SlideModel\r\n      state.previewDrag.drop = mdl.SlideModel\r\n\r\n      if (!eqProps(\"id\", dragged, dropped)) {\r\n        dragged.order = end\r\n        dropped.order = start\r\n\r\n        updateAndSaveSlideTask([dragged, dropped])\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    oncreate: ({ dom }) => animateFadeIn({ dom }),\r\n    view: ({ attrs: { mdl, s, state } }) =>\r\n      m(\r\n        \".card.preview\",\r\n        {\r\n          draggable: mdl.isLoggedIn,\r\n          ondragstart: handleDragStart,\r\n          ondragend: handleDragEnd,\r\n          ondragover: handleDragOver,\r\n          ondrop: handleDrop,\r\n          ondragleave: handleDragLeave,\r\n          style: {\r\n            position:'relative',\r\n            opacity:\r\n              state.previewDrag.drop && state.previewDrag.drop.id == s.id\r\n                ? 0.4\r\n                : 1\r\n          }\r\n        },\r\n        [\r\n          m(\".card-header\",[\r\n            m(\"p.slidePosition\", s.order),\r\n            mdl.isLoggedIn && m(\r\n              RemoveLine,\r\n              {\r\n                style:{\r\n                  position:'absolute',\r\n                  top: 0,\r\n                  right: 0,\r\n                },\r\n                onclick: () => removeSlideTask(s)\r\n              },\r\n            ),\r\n          ]),\r\n          m(\"p.slidePosition\", s.title),\r\n          // m(\".card-body\", m.trust(mdl.markup.render(s.content || \"\"))),\r\n         mdl.isLoggedIn && m(\".card-footer\", [\r\n            m(SlidePosition, {\r\n              slides: state.right(),\r\n              dir: \"left\",\r\n              slide: s,\r\n              update: updateAndSaveSlideTask\r\n            }),\r\n            m(EditLine,{             style:{\r\n              position:'absolute',\r\n              top: 35,\r\n              right: 0,\r\n            },\r\n              onclick: () =>  {\r\n                m.route.set(`/edit/${mdl.CurrentPresentation.id}/slide/${s.id}`)\r\n              },\r\n            }),\r\n            m(SlidePosition, {\r\n              slides: state.right(),\r\n              dir: \"right\",\r\n              slide: s,\r\n              update: updateAndSaveSlideTask\r\n            })\r\n          ])\r\n        ]\r\n      )\r\n  }\r\n}\r\n\r\nexport default Preview\r\n","import Task from 'data.task'\r\nimport { log } from 'utils'\r\nimport { take } from 'ramda'\r\nimport {\r\n  updateSlideDragStart,\r\n  updateSlideDragEnd,\r\n  updateStateDragEnd,\r\n  updateSlideTask,\r\n  deleteSlideTask,\r\n} from '../model.js'\r\nimport { EditLine, RemoveLine } from '@mithril-icons/clarity/cjs'\r\n\r\nconst Slide = ({ attrs: { getSlides, mdl, s, key, state } }) => {\r\n  const onError = task => error => log(`error with ${task}`)(error)\r\n  const onSuccess = _ => getSlides({ attrs: { mdl } })\r\n\r\n  const authDeleteTask = id =>\r\n    window.confirm('Are you sure you want to delete?')\r\n      ? Task.of(id)\r\n      : Task.rejected(id)\r\n\r\n  const removeSlideTask = id =>\r\n    authDeleteTask(id)\r\n      .chain(deleteSlideTask(state.presentationId))\r\n      .fork(onError('deleting'), onSuccess)\r\n\r\n  const addSlideToShow = s => {\r\n    updateSlideTask(state.presentationId)([s]).fork(onError('updating'), _ => {\r\n      state.slideDrag = {\r\n        dragId: '',\r\n        dragging: false,\r\n        droppable: false,\r\n      }\r\n      onSuccess()\r\n    })\r\n  }\r\n\r\n  const handleDragStart = ev => {\r\n    ev.target.style.opacity = '0.4'\r\n    ev.dataTransfer.effectAllowed = 'move'\r\n    ev.dataTransfer.setData('text/plain', 'slide')\r\n    state.slideDrag = updateSlideDragStart(s)(state.slideDrag)\r\n  }\r\n\r\n  const handleDragEnd = ev => {\r\n    ev.target.style.opacity = '1'\r\n    if (state.slideDrag.droppable) {\r\n      let _slide = updateSlideDragEnd(state.right().length)(s)\r\n\r\n      updateStateDragEnd(state.slideDrag)\r\n      return addSlideToShow(_slide)\r\n    }\r\n  }\r\n\r\n  return {\r\n    view: ({ attrs: { s, state, mdl } }) =>\r\n      m(\r\n        '.card',\r\n        {\r\n          id: s.id,\r\n          draggable: mdl.isLoggedIn,\r\n          ondragstart: handleDragStart,\r\n          ondragend: handleDragEnd,\r\n        },\r\n        [\r\n          m('div.card-header', [   m( 'h1.title', m('span', take(15, s.title))),   ]),\r\n          mdl.isLoggedIn && m('.card-footer',\r\n          m(RemoveLine, {\r\n            onclick: () => removeSlideTask(s.id),\r\n          }),\r\n          m(EditLine,{\r\n            onclick: () =>\r\n             m.route.set(`/edit/${state.presentationId}/slide/${s.id}`),\r\n          })),\r\n        ]\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Slide\r\n","import {\r\n  clone,\r\n  filter,\r\n  propEq,\r\n  prop,\r\n  without,\r\n  concat,\r\n  head,\r\n  sortBy\r\n} from \"ramda\"\r\nimport SlidesModal from \"./slidesModal.js\"\r\nimport Slide from \"./Slide/component.js\"\r\nimport Preview from \"./Preview/component.js\"\r\nimport { loadSlides } from \"./model.js\"\r\nimport { log } from \"utils\"\r\n\r\nconst Slides = ({ attrs: { mdl } }) => {\r\n  const state = {\r\n    left: Stream([]),\r\n    right: Stream([]),\r\n    slideDrag: {\r\n      dragId: \"\",\r\n      dragging: false,\r\n      droppable: false\r\n    },\r\n    previewDrag: {\r\n      drag: null,\r\n      drop: null\r\n    },\r\n    presentationId: \"\"\r\n  }\r\n\r\n  const onError = log(\"error\")\r\n\r\n  const onSuccess = (presentation) => {\r\n    let slides = mdl.CurrentPresentation.Slides\r\n\r\n    state.left(filter(propEq(\"order\", 0), slides))\r\n\r\n    state.right(sortBy(prop(\"order\"), without(state.left(), slides)))\r\n\r\n    mdl.CurrentPresentation.slideShow = Stream(state.right())\r\n  }\r\n\r\n  const getSlides = ({ attrs: { mdl } }) => {\r\n    state.presentationId = m.route.param(\"id\")\r\n    return loadSlides(state.presentationId)(mdl).fork(onError, onSuccess)\r\n  }\r\n\r\n  const handleDragEnter = (ev) => {\r\n    ev.preventDefault()\r\n    state.bColor = true\r\n  }\r\n\r\n  const handleDragLeave = (ev) => {\r\n    ev.preventDefault()\r\n    state.slideDrag.dragging = false\r\n    state.slideDrag.droppable = false\r\n    state.bColor = false\r\n  }\r\n\r\n  const handleDrop = (ev) => {\r\n    ev.preventDefault()\r\n    let type = ev.dataTransfer.getData(\"text/plain\")\r\n    if (state.slideDrag.dragging) {\r\n      if (type == \"slide\") {\r\n        let item = head(\r\n          filter(propEq(\"id\", state.slideDrag.dragId), state.left())\r\n        )\r\n        state.slideDrag.droppable = true\r\n        item.order = state.right().length + 1\r\n        state.left(without([item], state.left()))\r\n        state.right(concat(state.right(), [item]))\r\n      } else {\r\n        let item = head(\r\n          filter(propEq(\"id\", state.slideDrag.dragId), state.right())\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDragOver = (ev) => {\r\n    ev.preventDefault()\r\n    let type = ev.dataTransfer.getData(\"text/plain\")\r\n    state.slideDrag.dragging = true\r\n    ev.dataTransfer.dropEffect = \"move\"\r\n  }\r\n\r\n  return {\r\n    oninit: getSlides,\r\n    view: ({ attrs: { mdl } }) => [\r\n      mdl.toggleModal\r\n        ? m(SlidesModal, {\r\n            toggleModal: () => (mdl.toggleModal = !mdl.toggleModal),\r\n            left: state.left,\r\n            slide: clone(mdl.SlideModel),\r\n            getSlides,\r\n            mdl,\r\n            pId: state.presentationId\r\n          })\r\n        : \"\",\r\n      m(\".container.slides\", [\r\n        m(\r\n          `aside.left-drag ${state.left().length == 0 ? \".isDragging\" : \"\"}`,\r\n          {\r\n            onBeforeRemove: (vnode, done) => {\r\n              vnode.dom.addEventListener(\"animationend\", done)\r\n              vnode.dom.style.animation = \"fadeOut 1s\"\r\n            }\r\n          },\r\n          [\r\n            state.left().map((s) =>\r\n              m(Slide, {\r\n                key: s.id,\r\n                mdl,\r\n                getSlides,\r\n                s,\r\n                state\r\n              })\r\n            )\r\n          ]\r\n        ),\r\n\r\n        m(\r\n          `section.right-drag${state.slideDrag.dragging ? \".isDragging\" : \"\"}`,\r\n          {\r\n            onBeforeRemove: (vnode, done) => {\r\n              vnode.dom.addEventListener(\"animationend\", done)\r\n              vnode.dom.style.animation = \"fadeOut 1s\"\r\n            },\r\n            ondragleave: handleDragLeave,\r\n            ondrop: handleDrop,\r\n            ondragover: handleDragOver,\r\n            ondragenter: handleDragEnter\r\n          },\r\n          state.right().map((s) => {\r\n            return m(Preview, {\r\n              key: s.id,\r\n              mdl,\r\n              getSlides,\r\n              s,\r\n              state\r\n            })\r\n          })\r\n        )\r\n      ])\r\n    ]\r\n  }\r\n}\r\n\r\nexport default Slides\r\n","import { getQlTask } from 'utils'\r\nimport { compose, lt, prop, gt, set, lensProp, subtract, path } from 'ramda'\r\n\r\nconst toViewModel = model => presentations =>\r\n  (model.CurrentPresentation = presentations)\r\n\r\nexport const toStruct = (acc, item) => {\r\n  if (item.order > 0 && !acc.keys.has(item.id)) {\r\n    item.order = acc.keys.size + 1\r\n    acc.keys.add(item.id)\r\n    acc.values[item.order] = item\r\n    acc.items(Object.keys(acc.values))\r\n    return acc\r\n  }\r\n  return acc\r\n}\r\n\r\nconst orderOf = slide => prop('order', slide)\r\n\r\nexport const forGreater = removeSlide => checkSlide =>\r\n  lt(orderOf(removeSlide), orderOf(checkSlide))\r\n\r\nexport const forLess = removeSlide => checkSlide =>\r\n  gt(orderOf(removeSlide), orderOf(checkSlide))\r\n\r\nexport const reduceOrder = slide =>\r\n  set(lensProp('order', slide), subtract(orderOf(slide), 1), slide)\r\n\r\nexport const getId = item => prop('id', item)\r\n\r\nconst resetOrder = slide => set(lensProp('order', slide), 0, slide)\r\n\r\nexport const updateRemoveSlide = compose(Array.of, resetOrder)\r\n\r\nconst updateId = slide => slideDrag =>\r\n  set(lensProp('dragId', slideDrag), prop('id', slide), slideDrag)\r\n\r\nexport const updateSlideDragStart = slide =>\r\n  compose(updateId(slide), updateDrag)\r\n\r\nconst updateOrder = length => slide => set(lensProp('order'), length, slide)\r\n\r\nexport const updateSlideDragEnd = length => compose(updateOrder(length))\r\n\r\nconst updateDrag = state => set(lensProp('dragging', false, state))\r\n\r\nconst updateDrop = state => set(lensProp('droppable', false, state))\r\n\r\nexport const updateStateDragEnd = compose(updateDrop, updateDrag)\r\n\r\nexport const loadSlides = id => model =>\r\n  getQlTask(\r\n    `{ presentation(where:{id:${JSON.stringify(id)}}){\r\n      id, title, Slides { id title content order }\r\n    } }`\r\n  )\r\n    .map(path(['data', 'presentation']))\r\n    .map(toViewModel(model))\r\n\r\nexport const saveSlideTask = ({ title, order, presentation_id }) => {\r\n  let q = `mutation {\r\n            updatePresentation(\r\n              where: {\r\n                id: ${JSON.stringify(presentation_id)}\r\n              }\r\n              data: {\r\n                  Slides:{\r\n                    create : {\r\n                      title: ${JSON.stringify(title)}\r\n                      content: \"\"\r\n                      order: ${JSON.stringify(order)}\r\n                    }\r\n                  }\r\n          }){\r\n    id title Slides { id title content order }\r\n  } }`\r\n\r\n  return getQlTask(q).map(path(['data', 'updatePresentation', 'Slides']))\r\n}\r\n\r\nexport const deleteSlideTask = presentation_id => id => {\r\n  console.log('delete',id)\r\n  let q = `mutation {\r\n            updatePresentation(\r\n              where: {\r\n                id: ${JSON.stringify(presentation_id)}\r\n              }\r\n              data: {\r\n                  Slides:{\r\n                    delete : [{\r\n                      id: ${JSON.stringify(id)}\r\n                    }]\r\n                  }\r\n          }){\r\n    id title Slides { id title content order}\r\n  } }`\r\n\r\n  return getQlTask(q).map(path(['data', 'updatePresentation', 'Slides']))\r\n}\r\n\r\nexport const updateSlideTask = presentation_id => slides => {\r\n  let qlSlides = slides.map(\r\n    slide =>\r\n      `{\r\n      where: {\r\n        id: ${JSON.stringify(slide.id)}\r\n      }\r\n      data: {\r\n        order: ${JSON.stringify(slide.order)}\r\n      }\r\n    }`\r\n  )\r\n\r\n  let q = `mutation {\r\n            updatePresentation(\r\n              where: {\r\n                id: ${JSON.stringify(presentation_id)}\r\n              }\r\n              data: {\r\n                Slides:{\r\n                  update : [${qlSlides}]\r\n                }\r\n              }\r\n            )\r\n          { id title Slides { id title content order } }\r\n        }`\r\n\r\n  return getQlTask(q).map(path(['data', 'updatePresentation', 'Slides']))\r\n}\r\n","import { assoc } from \"ramda\"\r\nimport { saveSlideTask } from \"./model.js\"\r\n\r\nconst SlidesModal = ({\r\n  attrs: { left, pId, slide, toggleModal, getSlides, Models }\r\n}) => {\r\n  const state = {\r\n    errors: \"\",\r\n    title: \"\"\r\n  }\r\n\r\n  const onError = (errors) => {\r\n    log(\"error\")(errors)\r\n    state.errors = errors\r\n  }\r\n\r\n  const onSuccess = (slides) => {\r\n    getSlides({ attrs: { Models } })\r\n    return toggleModal()\r\n  }\r\n\r\n  const save = (e) => {\r\n    e.preventDefault()\r\n    let dto = assoc(\"presentation_id\", pId, assoc(\"title\", state.title, slide))\r\n    saveSlideTask(dto).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    view: () =>\r\n      m(\"article.modal-container\", [\r\n        m(\".card\", [\r\n          m(\".card-header\", [\r\n            m(\"h2.modal-title\", \"Slide Title\"),\r\n            m(\"button.card-delete\", {\r\n              onclick: () => {\r\n                return toggleModal()\r\n              },\r\n              \"aria-label\": \"close\"\r\n            })\r\n          ]),\r\n          m(\".card-body\", [\r\n            m(\r\n              \".modal-content\",\r\n              m(\"input.modal-input\", {\r\n                autofocus: true,\r\n                type: \"text\",\r\n                onchange: (e) => (state.title = e.target.value)\r\n              })\r\n            )\r\n          ]),\r\n          m(\r\n            \".card-footer\",\r\n            m(\"button.card-btn\", { onclick: save }, \"Create New Slide\")\r\n          )\r\n        ])\r\n      ])\r\n  }\r\n}\r\n\r\nexport default SlidesModal\r\n","import { pluck } from \"ramda\"\r\nimport { animateEntranceRight } from \"utils\"\r\n\r\nconst ENDING = `<div class=\"endingContainer\">\r\n<h1 class=\"endingTitle\">THE END!</h1>\r\n<img class=\"endingImg\" id=\"ending\" src=\"https://imgur.com/uj15GJp.gif\" width=\"100%\" />\r\n</div>\r\n`\r\n\r\nconst SlideShow = ({ attrs: { mdl } }) => {\r\n  const state = {\r\n    update: false,\r\n    key: undefined,\r\n    cursor: 0,\r\n    size: mdl.CurrentPresentation.slideShow().length,\r\n    contents: pluck(\"content\", mdl.CurrentPresentation.slideShow())\r\n  }\r\n\r\nconst calcStatePosition = (x) => x > (window.innerWidth/2) ? 'right' : 'left'\r\n\r\n const updateStatePosition = (x, state) =>\r\n   state.key = calcStatePosition(x) == 'right' ?'ArrowRight':'ArrowLeft'\r\n\r\n\r\n  const nextSlide = () => {\r\n    window.scrollTo({top:0, behaviour: \"smooth\" })\r\n    if (state.cursor == state.size - 1) state.contents[state.cursor] = ENDING\r\n    else {\r\n      state.cursor++\r\n    }\r\n    return state\r\n  }\r\n\r\n  const prevSlide = () => {\r\n    window.scrollTo({top:0, behaviour: \"smooth\" })\r\n    state.cursor == 0 ? state.cursor : state.cursor--\r\n  }\r\n\r\n  const changeSlide = (key, target) => {\r\n    switch (key) {\r\n      case \"ArrowLeft\":\r\n        if (target.children) prevSlide(target)\r\n        break\r\n      case \"ArrowRight\":\r\n        if (target.children) nextSlide(target)\r\n        break\r\n      case \"ArrowUp\":\r\n        target.scrollBy(0, 100)\r\n        break\r\n      case \"ArrowDown\":\r\n        target.scrollBy(0, -100)\r\n        break\r\n    }\r\n  }\r\n\r\n  return {\r\n    dir: state.key,\r\n    oninit: state.slide = state.contents[state.cursor],\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \".slideshow#slideshow.right\",\r\n        {\r\n          tabindex: 0,\r\n          onkeyup: ({ key, target }) => {\r\n            state.update = true\r\n            state.key = key\r\n            changeSlide(key, target)\r\n          },\r\n          onclick: ({x, target}) => {\r\n            state.update = true\r\n            updateStatePosition(x, state)\r\n            return changeSlide(state.key, target)\r\n          }\r\n        },\r\n        m(\r\n          \".slidecard#slidecard\",\r\n          {\r\n            onmouseenter:({x, target}) => {\r\n              state.update = false\r\n              target.style.cursor = calcStatePosition(x)\r\n            },\r\n            onmouseleave:({x, target}) => {\r\n              state.update = false\r\n              target.style.cursor = calcStatePosition(x), target\r\n            },\r\n            onbeforeupdate: () => ![\"ArrowUp\", \"ArrowDown\"].includes(state.key) && state.update,\r\n            onupdate: ({ dom }) => animateEntranceRight({ dom })\r\n          },\r\n          m.trust(mdl.markup.render(state.contents[state.cursor] || ENDING))\r\n        )\r\n      )\r\n  }\r\n}\r\n\r\nexport default SlideShow\r\n","export const onlineUrl =\r\n  \"https://eu1.prisma.sh/boaz-blake-8951e1/mithril-presenter/dev\"\r\n\r\nexport const authSettings = {\r\n    domain : 'boazblake.auth0.com',\r\n    clientID  : '5Ba9gkttaS9uikqMkTbFr7loUeDzhwty',\r\n    redirect_uri: window.location.origin,\r\n    responseType: 'token id_token',\r\n  }\r\n\r\n\r\nconst getRandomInt = n => Math.floor(Math.random() * Math.floor(n))\r\nexport const code = () =>  [getRandomInt(9),getRandomInt(9),getRandomInt(9),getRandomInt(9),getRandomInt(9),getRandomInt(9)].join('')\r\n\r\n\r\nexport const emailMe = code => ({\r\n  // Host : \"smtp.elasticemail.com\",\r\n  // Username : \"boazblake@gmail.com\",\r\n  // Password : \"764A40CB22F6EAE1812BB335E82CDF009751\",\r\n  SecureToken: '69f7853b-05d3-4bc2-888a-5c8056e02044',\r\n  To : 'boazblake@gmail.com',\r\n  From : \"boazblake@gmail.com\",\r\n  Subject : \"Check the code\",\r\n  Body:code\r\n})\r\n","import Task from \"data.task\"\r\nimport { onlineUrl, makeQuery } from \"./index.js\"\r\n\r\nexport const postQl = query =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: \"POST\",\r\n        url: `${onlineUrl}`,\r\n        withCredentials: false,\r\n        body: makeQuery(query),\r\n      })\r\n      .then(res, rej)\r\n  )\r\n\r\nconst postTask = url => ({ dto }) =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: \"POST\",\r\n        url: `${onlineUrl}/${url}`,\r\n        body: dto,\r\n        withCredentials: false,\r\n      })\r\n      .then(res, rej)\r\n  )\r\n\r\nconst putTask = url => ({ dto }) =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: \"PUT\",\r\n        url: `${onlineUrl}/${url}`,\r\n        body: dto,\r\n        withCredentials: false,\r\n      })\r\n      .then(res, rej)\r\n  )\r\n\r\nconst getTask = url =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: \"GET\",\r\n        url: `${onlineUrl}/${url}`,\r\n        withCredentials: false,\r\n      })\r\n      .then(res, rej)\r\n  )\r\n\r\nconst deleteTask = url => id =>\r\n  new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method: \"DELETE\",\r\n        url: `${onlineUrl}/${url}/${id}`,\r\n        withCredentials: false,\r\n      })\r\n      .then(res, rej)\r\n  )\r\n\r\nexport default { postTask, putTask, getTask, deleteTask, postQl }\r\n","import anime from \"animejs\"\r\n\r\nexport const animateSlideEntrance = ({ dom }) => {\r\n  return dom.animate(\r\n    [\r\n      { transform: \"translate3d(20%,0,0)\", opacity: 0 },\r\n      { transform: \"none\", opacity: 1 }\r\n    ],\r\n    {\r\n      duration: 650\r\n    }\r\n  )\r\n}\r\n\r\nexport const animateEntranceRight = ({ dom }) => {\r\n  return dom.animate(\r\n    [\r\n      {\r\n        animation: \"\",\r\n        transform: \"translate3d(100%,0,0)\",\r\n        scale: 2,\r\n        opacity: 0\r\n      },\r\n      {\r\n        animation: \"stretchRight 1s ease-in-out both\",\r\n        transform: \"none\",\r\n        opacity: 1,\r\n        scale: 1\r\n      }\r\n    ],\r\n    {\r\n      duration: 350\r\n    }\r\n  )\r\n}\r\n\r\nexport const animateChildEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n\r\n  return children.map((child, index) => {\r\n    setTimeout(() => {\r\n      child.animate(\r\n        [\r\n          { transform: \"translate3d(0,-100%,0)\", opacity: 0 },\r\n          { transform: \"none\", opacity: 1 }\r\n        ],\r\n        {\r\n          duration: 850\r\n        }\r\n      )\r\n    }, (index + 1) * 200)\r\n  })\r\n}\r\n\r\nexport const animateExit = (dom) => {\r\n  let children = [...dom.children]\r\n\r\n  let anim = animate([\r\n    { transform: \"none\", opacity: 1 },\r\n    { transform: \"translate3d(25%,100%,0)\", opacity: 0 }\r\n  ])\r\n\r\n  let waapi = children.map((child) =>\r\n    child.animate(anim, {\r\n      duration: 850\r\n    })\r\n  )\r\n\r\n  return new Promise((resolve) => {\r\n    waapi.onfinish = function(e) {\r\n      resolve()\r\n    }\r\n  })\r\n}\r\n\r\nexport const animateFadeIn = ({ dom }) => {\r\n  let children = [...dom.children]\r\n  children.map((child, index) => {\r\n    child.style.opacity = 0\r\n    child.style.transition = \"opacity .4s ease-in-out\"\r\n\r\n    return setTimeout(() => {\r\n      child.style.opacity = 1\r\n    }, (index + 1) * 200)\r\n  })\r\n}\r\n\r\nexport const animateFadeOut = ({ dom }) => {\r\n  let anim = [\r\n    { transition: \"opacity .4s ease-in-out\" },\r\n    { transform: \"none\", opacity: 1 },\r\n    { transform: \"translate3d(25%,100%,0)\", opacity: 0 }\r\n  ]\r\n  let waapi = dom.animate(anim, {\r\n    duration: 850\r\n  })\r\n\r\n  return new Promise((resolve) => {\r\n    waapi.onfinish = function(e) {\r\n      resolve()\r\n    }\r\n  })\r\n}\r\n\r\nexport const animeEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n  const res = children.map((el) =>\r\n    anime({\r\n      target: el,\r\n      easing: \"easeInQuad\",\r\n      translateX: 250,\r\n      offset: 0\r\n    })\r\n  )\r\n\r\n  return res\r\n}\r\n\r\nexport const bounceEntrance = ({ dom }) => {\r\n  return dom.animate({\r\n    animation: \"animation 1000ms linear both\",\r\n    keyframes: {\r\n      \"0%\": {\r\n        transform: \"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"3.4%\": {\r\n        transform:\r\n          \"matrix3d(1.316, 0, 0, 0, 0, 1.407, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"4.7%\": {\r\n        transform:\r\n          \"matrix3d(1.45, 0, 0, 0, 0, 1.599, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"6.81%\": {\r\n        transform:\r\n          \"matrix3d(1.659, 0, 0, 0, 0, 1.893, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"9.41%\": {\r\n        transform:\r\n          \"matrix3d(1.883, 0, 0, 0, 0, 2.168, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"10.21%\": {\r\n        transform:\r\n          \"matrix3d(1.942, 0, 0, 0, 0, 2.226, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"13.61%\": {\r\n        transform:\r\n          \"matrix3d(2.123, 0, 0, 0, 0, 2.332, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"14.11%\": {\r\n        transform:\r\n          \"matrix3d(2.141, 0, 0, 0, 0, 2.331, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"17.52%\": {\r\n        transform:\r\n          \"matrix3d(2.208, 0, 0, 0, 0, 2.239, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"18.72%\": {\r\n        transform:\r\n          \"matrix3d(2.212, 0, 0, 0, 0, 2.187, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"21.32%\": {\r\n        transform:\r\n          \"matrix3d(2.196, 0, 0, 0, 0, 2.069, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"24.32%\": {\r\n        transform:\r\n          \"matrix3d(2.151, 0, 0, 0, 0, 1.96, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"25.23%\": {\r\n        transform:\r\n          \"matrix3d(2.134, 0, 0, 0, 0, 1.938, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"29.03%\": {\r\n        transform:\r\n          \"matrix3d(2.063, 0, 0, 0, 0, 1.897, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"29.93%\": {\r\n        transform:\r\n          \"matrix3d(2.048, 0, 0, 0, 0, 1.899, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"35.54%\": {\r\n        transform:\r\n          \"matrix3d(1.979, 0, 0, 0, 0, 1.962, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"36.74%\": {\r\n        transform:\r\n          \"matrix3d(1.972, 0, 0, 0, 0, 1.979, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"41.04%\": {\r\n        transform:\r\n          \"matrix3d(1.961, 0, 0, 0, 0, 2.022, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"44.44%\": {\r\n        transform:\r\n          \"matrix3d(1.966, 0, 0, 0, 0, 2.032, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"52.15%\": {\r\n        transform:\r\n          \"matrix3d(1.991, 0, 0, 0, 0, 2.006, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"59.86%\": {\r\n        transform:\r\n          \"matrix3d(2.006, 0, 0, 0, 0, 1.99, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"63.26%\": {\r\n        transform:\r\n          \"matrix3d(2.007, 0, 0, 0, 0, 1.992, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"75.28%\": {\r\n        transform:\r\n          \"matrix3d(2.001, 0, 0, 0, 0, 2.003, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"85.49%\": {\r\n        transform:\r\n          \"matrix3d(1.999, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"90.69%\": {\r\n        transform:\r\n          \"matrix3d(1.999, 0, 0, 0, 0, 1.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      },\r\n      \"100%\": {\r\n        transform: \"matrix3d(2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\"\r\n      }\r\n    }\r\n  })\r\n}\r\n","export * from './animations.js'\r\nexport * from './requests.js'\r\nexport * from './.secret.js'\r\n\r\n\r\nconst makeQuery = string => JSON.parse(JSON.stringify(string))\r\n\r\n\r\nconst repeat = n => f => x => {\r\n  let m = n\r\n  while (true) {\r\n    if (m === 0) return x\r\n    else (m = m - 1), (x = f(x))\r\n  }\r\n}\r\n\r\nconst wait = n => f => x => {\r\n  let m = n\r\n  while (true) {\r\n    if (m === 0) return x\r\n    else (m = m - 1), (x = f(x))\r\n  }\r\n}\r\n\r\nconst log = m => v => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n\r\nconst viewModelMap = signature => {\r\n  var _map = {}\r\n  return function(key) {\r\n    if (!_map[key]) {\r\n      _map[key] = {}\r\n      for (var prop in signature) _map[key][prop] = Stream(signature[prop]())\r\n    }\r\n    return _map[key]\r\n  }\r\n}\r\nexport { viewModelMap, log, repeat, wait, makeQuery }\r\n","import httpTasks from \"./Tasks.js\"\r\n\r\nimport { log } from \"./index.js\"\r\n\r\nexport const findPresentationsTask = () => httpTasks.getTask(\"presentations\")\r\n\r\nexport const getQlTask = (query) => httpTasks.postQl({ query })\r\n\r\nexport const savePresentationTask = (dto) =>\r\n  httpTasks.postTask(`presentations`)({\r\n    dto\r\n  })\r\n\r\nexport const deletePresentationsTask = (id) =>\r\n  httpTasks.deleteTask(\"presentations\")(id)\r\n\r\nexport const findSlidesTask = (id) =>\r\n  httpTasks.getTask(`presentations/${id}/slides`)\r\n\r\nexport const saveSlideTask = (dto) => httpTasks.postTask(`slides`)({ dto })\r\n\r\nexport const updateSlideTask = (id) => (dto) =>\r\n  httpTasks.putTask(`slides/${id}`)({ dto })\r\n\r\nexport const deleteSlideTask = (id) => httpTasks.deleteTask(\"slides\")(id)\r\n\r\nexport const loadSlideTask = (id) => httpTasks.getTask(`slides/${id}`)\r\n"]}